---
title: "Modul Analisis Data Epidemiologi dengan R"
author: "Muhammad Ilham Basgoro"
format: html
editor: visual
---

# Bab 4. Analisis Epidemiologi Lanjut

Investigasi wabah merupakan tugas yang sering diberikan kepada seorang epidemiolog. Bab ini menjelaskan cara menggambarkan data secara efektif, pada bab ini kita akan menggunakan *dataset* `Outbreak`. Data tersebut merupakan data bawaan dari *package* `epicalc`.

Sebelum memulai analisis anda harus memanggil kembali package epicalc terlebih dahulu, setelah itu anda harus membersihkan workspace dan memori, menggunakan fungsi zap(), agar aplikasi RStudio anda tidak berat.

```{r}
#| label: load-packages
#| message: false
# Jalankan syntax berikut!
library(epicalc)
zap()
```

Pada tanggal 25 Agustus 1990, petugas kesehatan setempat di Provinsi Supan Buri, Thailand, melaporkan terjadinya wabah penyakit gastrointestinal akut pada hari olahraga nasional untuk penyandang disabilitas. Dr. Lakkana Thaikruea dan rekan-rekannya pergi untuk menyelidiki. Set data ini disebut Outbreak. Sebagian besar nama variabel sudah jelas maknanya.

Variabel dikodekan sebagai 0 = tidak, 1 = ya, dan 9 = hilang/tidak diketahui untuk tiga jenis makanan yang dikonsumsi peserta: *beefcurry* (kari sapi), *saltegg* (telur asin), dan *water* (air). Menu juga mencakup *eclairs*, kue berbentuk jari dari adonan *choux* yang diisi krim. Variabel ini mencatat jumlah potong yang dimakan oleh setiap peserta. Nilai yang hilang dikodekan sebagai berikut: 88 = “makan tetapi tidak ingat berapa banyak”, sementara kode 90 mewakili informasi yang benar-benar hilang. Beberapa peserta mengalami gejala gastrointestinal, seperti: `mual, muntah, nyeri perut, dan diare`. Usia masing-masing peserta dicatat dalam tahun, dengan 99 mewakili nilai yang hilang.

Pada bab ini kita akan menggunakan data `Outbreak` yang telah disebutkan sebelumnya, data tersebut berasal dari *package* *epicalc*.

```{r}
#| label: load-packages
#| message: false
library(epicalc)
zap()
data(Outbreak)
```

Silakan lakukan eksplorasi data pada data set tersebut.

```{r}
tab1(Outbreak$age)
tab1(Outbreak$beefcurry)
tab1(Outbreak$saltegg)
tab1(Outbreak$water)
tab1(Outbreak$eclair)
```

Silakan perbaiki data tersebut apabila terdapat data yang belum sesuai.

```{r}
Outbreak$age[Outbreak$age == 99] <- NA
Outbreak$beefcurry[Outbreak$beefcurry == 9] <- NA
Outbreak$saltegg[Outbreak$saltegg == 9] <- NA
Outbreak$water[Outbreak$water == 9] <- NA
Outbreak$eclair[Outbreak$eclair >= 90] <- NA
```

Mengeluarkan data *missing* dari *dataframe*

```{r}
des(Outbreak)
Outbreak <- c('id', 'sex', 'age', 'beefcurry', 'saltegg', 'eclair', 'water', 'nausea', 'vomiting', 'abdpain', 'diarrhea')
Outbreak <- na.omit(Outbreak)
```

Setelah anda melakukan eksplorasi data silakan tetapkan definisi kasus dalam penyelidikan wabah tersebut dengan kriteria sebagai berikut.

1.  nausea == 1

2.  vomiting == 1

3.  abdpain == 1

4.  diarrhea == 1

Sebelum mendefinisikan kasus, silakan use data Outbreak tersebut untuk masuk ke dalam tahap selanjutnya.

```{r}
# menggunakan data Outbreak
use(Outbreak)
```

```{r}
# mendefinisikan case/kasus
case <- (nausea == 1) | (vomiting == 1) | (abdpain == 1) | (diarrhea == 1)

# untuk memasukkan variabel case ke dalam dataset Outbrek
label.var(case, 'diseased')
```

```{r}
# menambahkan label untuk variabel
```
